# re2dot

根据正则表达式生成其对应 DFA 的状态转移图, 简单来说就是输入一个正则表达式, 然后会构造其对应的 NFA, 然后再构造对应的 DFA, 然后再最小化 DFA, 最后使用 [dot](http://graphviz.org) 语法绘制出最小 DFA. 

re2dot 使用姿势如下:

```bash
$ ./re2dot.py --help
usage: re2dot.py [-h] [-N] [-D] [-d] regexp

根据正则表达式生成其对应 DFA 的状态转移图

positional arguments:
  regexp         正则表达式

optional arguments:
  -h, --help     show this help message and exit
  -N, --nfa      若指定, 则输出原始 NFA 对应的状态转移图. 默认值
  -D, --dfa      若指定, 则输出原始 NFA 转换为 DFA 对应的状态转移图.
  -d, --minidfa  若指定, 则输出原始 NFA 转换为 DFA 并最小化后对应的状态转移图.
```

emmm.. 精力所限, 这里只支持闭包, 连接, 选择三种正则运算符. 据说剩余的正则运算符均可只用这三种运算符重写. 

```
$ ./re2dot.py 'ab|c'
// Generated by hidva.com
digraph {
rankdir=LR
	0 [label="" peripheries=0]
	1 [peripheries=1]
	0 -> 1
	2 [peripheries=1]
	1 -> 2 [label="ϵ"]
	3 [peripheries=1]
	1 -> 3 [label="ϵ"]
	4 [peripheries=1]
	2 -> 4 [label=a]
	5 [peripheries=1]
	3 -> 5 [label=c]
	6 [peripheries=1]
	4 -> 6 [label="ϵ"]
	7 [peripheries=2]
	5 -> 7 [label="ϵ"]
	8 [peripheries=1]
	6 -> 8 [label=b]
	8 -> 7 [label="ϵ"]
}

$ ./re2dot.py 'ab|c' | dot -Tpng  > imgs/abc.png
$ open imgs/abc.png
```

![abc](https://github.com/hidva/re2dot/blob/master/imgs/abc.png)

是的, 截至目前而言, nfa 转 dfa, 最小化 dfa 还没有来得及实现.